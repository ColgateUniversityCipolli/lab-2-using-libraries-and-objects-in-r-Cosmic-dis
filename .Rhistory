str_count(string = "Music/PeopleStuff/bla", pattern = "/")
# str_count identifies how many backslashes until we arrive at the desired
# location from which we extract the desired files
sub = c(list.dirs("Music")) # creates a vector of directories
# print(sub)
sub.direc = c()
for (direc in sub){ # loop through all directories
# if the the path of the directory includes 2 backslashes
if (str_count(direc, pattern = "/") == 2){
# add this directory (direc) to the new vector of desired directories
sub.direc = append(sub.direc, direc)
}
}
print(sub.direc)
# Step 3:
files = c()
# 1. and 2.
for (sub in sub.direc){ # loop through each directory in sub.direc
file = list.files(sub) # list the files in the current directory
# if the files has the ending ".wav"
if (sum(str_count(file, ".wav")) > 0){
# add the ".wav" file to the new vector of files
files = append(files, file)
}
}
# print(files)
# 3.
code.to.process = c()
for (sub in sub.direc){
music = list.files(sub) # variable containing the folders and the files in those folders
for (wav in music){
file = paste(sub, wav, sep = "/") # pastes the current album subdirectory and the current track title together
# print(file)
remove = str_sub(wav, 1, length(wav)-6) # removes the ".wav" portion of the current file (wav)
track = str_split(remove, "-") # removes the dashes to isolate the artist, album, and track names
new.track = track[[1]][length(track[[1]])] # extracts the track name
artist = track[[1]][length(track[[1]])-1] # extracts the artist name
album = str_split(sub, "/") #
#print(album)
only.album = album[[1]][length(album[[1]])]
output = paste(artist, "-", only.album, "-", new.track,".json", sep = "")
#print(output)
exe = paste("streaming_extractor_music.exe", ' "', new.track,".wav", '" ', '"', output, '"', sep = "")
code.to.process = append(code.to.process, exe)
# print(code.to.process)
}
}
print(code.to.process)
# Step 4
writeLines(code.to.process, "batfile.txt")
# Task 2
# Step 0
install.packages("jsonlite")
library(jsonlite)
# Step 1
list.files()
json.files = c()
for (file in list.files()){
if (str_count(string = file, pattern = ".json") > 0){
# json.files = append(json.files, file)
split.json = str_split(file, "-")
track = split.json[[1]][length(split.json[[1]])]
json.track = str_sub(track, start = 1, end = length(track)-7)
json.album = split.json[[1]][length(split.json[[1]])-1]
json.artist = split.json[[1]][length(split.json[[1]])-2]
# print(json.track)
# print(json.album)
# print(json.artist)
}
}
# Step 2
file.data = fromJSON("The Front Bottoms-Talon Of The Hawk-Au Revoir (Adios).json")
names(file.data)
# Step 3
average_loudness = file.data$"lowlevel"$"average_loudness"
cat("Average_Loudness: ", average_loudness)
spectral_energy_mean = file.data$"lowlevel"$"spectral_energy"$"mean"
cat("Mean: ", spectral_energy_mean)
bpm = file.data$"rhythm"$"bpm"
cat("BPM: ", bpm)
key_key = file.data$"tonal"$"key_key"
cat("Key_key: ", key_key)
length = file.data$"metadata"$"audio_properties"$"length"
cat("Length: ", length)
for (sub in sub.direc){ # loop through each directory in sub.direc
file = list.files(sub) # list the files in the current directory
# if the files has the ending ".wav"
if (sum(str_count(file, ".wav")) > 0){
# add the ".wav" file to the new vector of files
files = append(files, file)
}
install.packages("stringr")
library(stringr)
install.packages("stringr")
library(stringr)
# creates a vector of directories
source("~/Documents/GitHub/lab-2-using-libraries-and-objects-in-r-Cosmic-dis/Lab2-R-File.R", echo=TRUE)
# 1. and 2.
for (sub in sub.direc){ # loop through each directory in sub\.direc
file = list.files(sub) # list the files in the current directory
# if the files has the ending "\.wav"
if (sum(str_count(file, ".wav")) > 0){
# add the "\.wav" file to the new vector of files
files = append(files, file)
}
}
# print(files)
# 3.
code.to.process = c()
for (sub in sub.direc){
music = list.files(sub) # variable containing the folders and the files in those folders
for (wav in music){
file = paste(sub, wav, sep = "/") # pastes the current album subdirectory and the current track title together
# print(file)
remove = str_sub(wav, 1, length(wav)-6) # removes the ".wav" portion of the current file (wav)
track = str_split(remove, "-") # removes the dashes to isolate the artist, album, and track names
new.track = track[[1]][length(track[[1]])] # extracts the track name
artist = track[[1]][length(track[[1]])-1] # extracts the artist name
album = str_split(sub, "/") #
#print(album)
only.album = album[[1]][length(album[[1]])]
output = paste(artist, "-", only.album, "-", new.track,".json", sep = "")
#print(output)
exe = paste("streaming_extractor_music.exe", ' "', new.track,".wav", '" ', '"', output, '"', sep = "")
code.to.process = append(code.to.process, exe)
# print(code.to.process)
}
}
print(code.to.process)
writeLines(code.to.process, "batfile.txt")
# Step 0
install.packages("jsonlite")
library(jsonlite)
# Step 1
list.files()
json.files = c()
for (file in list.files()){
if (str_count(string = file, pattern = ".json") > 0){
# json.files = append(json.files, file)
split.json = str_split(file, "-")
track = split.json[[1]][length(split.json[[1]])]
json.track = str_sub(track, start = 1, end = length(track)-7)
json.album = split.json[[1]][length(split.json[[1]])-1]
json.artist = split.json[[1]][length(split.json[[1]])-2]
# print(json.track)
# print(json.album)
# print(json.artist)
}
}
file.data = fromJSON("The Front Bottoms-Talon Of The Hawk-Au Revoir (Adios).json")
names(file.data)
average_loudness = file.data$"lowlevel"$"average_loudness"
source("~/Documents/GitHub/lab-2-using-libraries-and-objects-in-r-Cosmic-dis/Lab2-R-File.R", echo=TRUE)
# print(file)
remove = str_sub(wav, 1, length(wav)-6) # removes the wav portion of the current file (wav)
# Task 1: Build a Batch File for Data Processing
# Step 0:
install.packages("stringr")
library(stringr)
# Step 1:
list.dirs("Music") # Lists sub-directories for fake MUSIC file
# Step 2:
str_count(string = "Music/PeopleStuff/bla", pattern = "/")
# str_count identifies how many backslashes until we arrive at the desired
# location from which we extract the desired files
sub = c(list.dirs("Music")) # creates a vector of directories
# print(sub)
sub.direc = c()
for (direc in sub){ # loop through all directories
# if the the path of the directory includes 2 backslashes
if (str_count(direc, pattern = "/") == 2){
# add this directory (direc) to the new vector of desired directories
sub.direc = append(sub.direc, direc)
}
}
print(sub.direc)
# Step 3:
files = c()
# 1. and 2.
for (sub in sub.direc){ # loop through each directory in subdirec
file = list.files(sub) # list the files in the current directory
# if the files has the ending wav
if (sum(str_count(file, ".wav")) > 0){
# add the wav file to the new vector of files
files = append(files, file)
}
}
# print(files)
# 3.
code.to.process = c()
for (sub in sub.direc){
music = list.files(sub) # variable containing the folders and the files in those folders
for (wav in music){
file = paste(sub, wav, sep = "/") # pastes the current album subdirectory and the current track title together
# print(file)
remove = str_sub(wav, 1, length(wav)-6) # removes the wav portion of the current file (wav)
track = str_split(remove, "-") # removes the dashes to isolate the artist, album, and track names
new.track = track[[1]][length(track[[1]])] # extracts the track name
artist = track[[1]][length(track[[1]])-1] # extracts the artist name
album = str_split(sub, "/") #
#print(album)
only.album = album[[1]][length(album[[1]])]
output = paste(artist, "-", only.album, "-", new.track,".json", sep = "")
#print(output)
exe = paste("streaming_extractor_music.exe", ' "', new.track,".wav", '" ', '"', output, '"', sep = "")
code.to.process = append(code.to.process, exe)
# print(code.to.process)
}
}
print(code.to.process)
# Step 4
writeLines(code.to.process, "batfile.txt")
# Task 2
# Step 0
install.packages("jsonlite")
library(jsonlite)
# Step 1
list.files()
json.files = c()
for (file in list.files()){
if (str_count(string = file, pattern = ".json") > 0){
# json.files = append(json.files, file)
split.json = str_split(file, "-")
track = split.json[[1]][length(split.json[[1]])]
json.track = str_sub(track, start = 1, end = length(track)-7)
json.album = split.json[[1]][length(split.json[[1]])-1]
json.artist = split.json[[1]][length(split.json[[1]])-2]
# print(json.track)
# print(json.album)
# print(json.artist)
}
}
# Step 2
file.data = fromJSON("The Front Bottoms-Talon Of The Hawk-Au Revoir (Adios).json")
names(file.data)
# Step 3
average_loudness = file.data$"lowlevel"$"average_loudness"
cat("Average_Loudness: ", average_loudness)
spectral_energy_mean = file.data$"lowlevel"$"spectral_energy"$"mean"
cat("Mean: ", spectral_energy_mean)
bpm = file.data$"rhythm"$"bpm"
cat("BPM: ", bpm)
key_key = file.data$"tonal"$"key_key"
cat("Key_key: ", key_key)
length = file.data$"metadata"$"audio_properties"$"length"
cat("Length: ", length)
file = list.files(sub)
# Task 1: Build a Batch File for Data Processing
# Step 0:
install.packages("stringr")
library(stringr)
# Step 1:
list.dirs("Music") # Lists sub-directories for fake MUSIC file
# Step 2:
str_count(string = "Music/PeopleStuff/bla", pattern = "/")
# str_count identifies how many backslashes until we arrive at the desired
# location from which we extract the desired files
sub = c(list.dirs("Music")) # creates a vector of directories
# print(sub)
sub.direc = c()
for (direc in sub){ # loop through all directories
# if the the path of the directory includes 2 backslashes
if (str_count(direc, pattern = "/") == 2){
# add this directory (direc) to the new vector of desired directories
sub.direc = append(sub.direc, direc)
}
}
# print(sub.direc)
# Step 3:
files = c()
for (sub in sub.direc){ # loop through each directory in sub.direc
file = list.files(sub)
if (sum(str_count(file, ".wav")) > 0){
files = append(files, file)
}
}
print(files)
code.to.process = c()
for (sub in sub.direc){
music = list.files(sub)
for (wav in music){
file = paste(sub, wav, sep = "/")
# print(file)
remove = str_sub(wav, 1, length(wav)-6)
track = str_split(remove, "-")
new.track = track[[1]][length(track[[1]])]
artist = track[[1]][length(track[[1]])-1]
album = str_split(sub, "/")
#print(album)
only.album = album[[1]][length(album[[1]])]
output = paste(artist, "-", only.album, "-", new.track,".json", sep = "")
#print(output)
exe = paste("streaming_extractor_music.exe", ' "', new.track,".wav", '" ', '"', output, '"', sep = "")
code.to.process = append(code.to.process, exe)
# print(code.to.process)
}
}
print(code.to.process)
# Step 4
writeLines(code.to.process, "batfile.txt")
# Task 2
# Step 0
install.packages("jsonlite")
library(jsonlite)
# Step 1
list.files()
json.files = c()
for (file in list.files()){
if (str_count(string = file, pattern = ".json") > 0){
# json.files = append(json.files, file)
split.json = str_split(file, "-")
track = split.json[[1]][length(split.json[[1]])]
json.track = str_sub(track, start = 1, end = length(track)-7)
json.album = split.json[[1]][length(split.json[[1]])-1]
json.artist = split.json[[1]][length(split.json[[1]])-2]
# print(json.track)
# print(json.album)
# print(json.artist)
}
}
# Step 2
file.data = fromJSON("The Front Bottoms-Talon Of The Hawk-Au Revoir (Adios).json")
names(file.data)
# Step 3
average_loudness = file.data$"lowlevel"$"average_loudness"
cat("Average_Loudness: ", average_loudness)
spectral_energy_mean = file.data$"lowlevel"$"spectral_energy"$"mean"
cat("Mean: ", spectral_energy_mean)
bpm = file.data$"rhythm"$"bpm"
cat("BPM: ", bpm)
key_key = file.data$"tonal"$"key_key"
cat("Key_key: ", key_key)
length = file.data$"metadata"$"audio_properties"$"length"
cat("Length: ", length)
# Step 1:
list.dirs("Music")
# Task 1: Build a Batch File for Data Processing
# Step 0:
install.packages("stringr")
library(stringr)
# Step 1:
list.dirs("Music")
# Step 2:
str_count(string = "Music/PeopleStuff/bla", pattern = "/")
sub = c(list.dirs("Music"))
sub.direc = c()
for (direc in sub){
if (str_count(direc, pattern = "/") == 2){
sub.direc = append(sub.direc, direc)
}
}
print(sub.direc)
# Step 3:
files = c()
for (sub in sub.direc){
file = list.files(sub)
if (sum(str_count(file, ".wav")) > 0){
files = append(files, file)
}
}
print(files)
code.to.process = c()
for (sub in sub.direc){
music = list.files(sub)
for (wav in music){
file = paste(sub, wav, sep = "/")
# print(file)
remove = str_sub(wav, 1, length(wav)-6)
track = str_split(remove, "-")
new.track = track[[1]][length(track[[1]])]
artist = track[[1]][length(track[[1]])-1]
album = str_split(sub, "/")
#print(album)
only.album = album[[1]][length(album[[1]])]
output = paste(artist, "-", only.album, "-", new.track,".json", sep = "")
#print(output)
exe = paste("streaming_extractor_music.exe", ' "', new.track,".wav", '" ', '"', output, '"', sep = "")
code.to.process = append(code.to.process, exe)
# print(code.to.process)
}
}
print(code.to.process)
# Step 4
writeLines(code.to.process, "batfile.txt")
# Task 2
# Step 0
install.packages("jsonlite")
library(jsonlite)
# Step 1
list.files()
json.files = c()
for (file in list.files()){
if (str_count(string = file, pattern = ".json") > 0){
# json.files = append(json.files, file)
split.json = str_split(file, "-")
track = split.json[[1]][length(split.json[[1]])]
json.track = str_sub(track, start = 1, end = length(track)-7)
json.album = split.json[[1]][length(split.json[[1]])-1]
json.artist = split.json[[1]][length(split.json[[1]])-2]
# print(json.track)
# print(json.album)
# print(json.artist)
}
}
# Step 2
file.data = fromJSON("The Front Bottoms-Talon Of The Hawk-Au Revoir (Adios).json")
names(file.data)
# Step 3
average_loudness = file.data$"lowlevel"$"average_loudness"
cat("Average_Loudness: ", average_loudness)
spectral_energy_mean = file.data$"lowlevel"$"spectral_energy"$"mean"
cat("Mean: ", spectral_energy_mean)
bpm = file.data$"rhythm"$"bpm"
cat("BPM: ", bpm)
key_key = file.data$"tonal"$"key_key"
cat("Key_key: ", key_key)
length = file.data$"metadata"$"audio_properties"$"length"
cat("Length: ", length)
album = str_split(sub, "/") #
#print(album)
only.album = album[[1]][length(album[[1]])]
# Task 1: Build a Batch File for Data Processing
# Step 0:
install.packages("stringr")
library(stringr)
# Step 1:
list.dirs("Music") # Lists sub-directories for fake MUSIC file
# Step 2:
str_count(string = "Music/PeopleStuff/bla", pattern = "/")
# str_count identifies how many backslashes until we arrive at the desired
# location from which we extract the desired files
sub = c(list.dirs("Music")) # creates a vector of directories
# print(sub)
sub.direc = c()
for (direc in sub){ # loop through all directories
# if the the path of the directory includes 2 backslashes
if (str_count(direc, pattern = "/") == 2){
# add this directory (direc) to the new vector of desired directories
sub.direc = append(sub.direc, direc)
}
}
print(sub.direc)
# Step 3:
files = c()
# 1. and 2.
for (sub in sub.direc){ # loop through each directory in sub.direc
file = list.files(sub) # list the files in the current directory
# if the files has the ending ".wav"
if (sum(str_count(file, ".wav")) > 0){
# add the ".wav" file to the new vector of files
files = append(files, file)
}
}
# print(files)
# 3.
code.to.process = c()
for (sub in sub.direc){
music = list.files(sub) # variable containing the folders and the files in those folders
for (wav in music){
file = paste(sub, wav, sep = "/") # pastes the current album subdirectory and the current track title together
# print(file)
remove = str_sub(wav, 1, length(wav)-6) # removes the ".wav" portion of the current file (wav)
track = str_split(remove, "-") # removes the dashes to isolate the artist, album, and track names
new.track = track[[1]][length(track[[1]])] # extracts the track name
artist = track[[1]][length(track[[1]])-1] # extracts the artist name
album = str_split(sub, "/") #
#print(album)
only.album = album[[1]][length(album[[1]])]
output = paste(artist, "-", only.album, "-", new.track,".json", sep = "")
#print(output)
exe = paste("streaming_extractor_music.exe", ' "', new.track,".wav", '" ', '"', output, '"', sep = "")
code.to.process = append(code.to.process, exe)
# print(code.to.process)
}
}
print(code.to.process)
# Step 4
writeLines(code.to.process, "batfile.txt")
# Task 2
# Step 0
install.packages("jsonlite")
library(jsonlite)
# Step 1
list.files()
json.files = c()
for (file in list.files()){
if (str_count(string = file, pattern = ".json") > 0){
# json.files = append(json.files, file)
split.json = str_split(file, "-")
track = split.json[[1]][length(split.json[[1]])]
json.track = str_sub(track, start = 1, end = length(track)-7)
json.album = split.json[[1]][length(split.json[[1]])-1]
json.artist = split.json[[1]][length(split.json[[1]])-2]
# print(json.track)
# print(json.album)
# print(json.artist)
}
}
# Step 2
file.data = fromJSON("The Front Bottoms-Talon Of The Hawk-Au Revoir (Adios).json")
names(file.data)
# Step 3
average_loudness = file.data$"lowlevel"$"average_loudness"
cat("Average_Loudness: ", average_loudness)
spectral_energy_mean = file.data$"lowlevel"$"spectral_energy"$"mean"
cat("Mean: ", spectral_energy_mean)
bpm = file.data$"rhythm"$"bpm"
cat("BPM: ", bpm)
key_key = file.data$"tonal"$"key_key"
cat("Key_key: ", key_key)
length = file.data$"metadata"$"audio_properties"$"length"
cat("Length: ", length)
